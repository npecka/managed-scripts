file: script.sh
name: kafka-debug # name should be the same as the subdir, eg: SRE/example in this case
description: Retrieve status of managed kafka cluster
author: npecka
allowedGroups:
  - SREP
  - CSSRE
  - CEE
rbac:
  clusterRoleRules:
    - verbs:
        - "get"
        - "list"
      apiGroups:
        - ""
      resources:
        - "statefulsets"
        - "deployments"
        - "pods"
    - verbs:
        - "get"
      apiGroups:
        - ""
      resources:
        - "persistentvolumes"
        - "persistentvolumeclaims"
    - verbs:
        - "list"
      apiGroups:
        - ""
      resources:
        - "secrets"
        - "configmaps"
    - verbs:
        - "list"
      apiGroups:
        - ""
      resources:
        - "kafkas"
envs:
  - key: "resource_namespace"
    description: "Namespace for the Kafka instance you want to query"
    optional: false
  - key: "resource_cluster_name"
    description: "Name of the Kafka instance you want to query"
    optional: false
language: bash
